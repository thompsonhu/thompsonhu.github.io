<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.52" />


<title>小菜鸟的入门TensorFlow - BONBON BLOG</title>
<meta property="og:title" content="小菜鸟的入门TensorFlow - BONBON BLOG">



  








<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/avatar.jpg"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="mailto:ramakstt@gmail.com">Email</a></li>
    
    <li><a href="https://github.com/rstudio/blogdown">GitHub</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">1 min read</span>
    

    <h1 class="article-title">小菜鸟的入门TensorFlow</h1>

    
    <span class="article-date">2018/12/26</span>
    

    <div class="article-content">
      


<div id="tensorflow" class="section level2">
<h2>迈出TensorFloW世界的第一步</h2>
<div id="windowsgpu" class="section level3">
<h3>查看Windows系统下机器的GPU信息</h3>
<p>首先打开“运行”对话框并在“运行”对话框中输入“dxdiag”（如图1），此时会打开“DirextX诊断工具”窗口，再通过选择“显示”标签便可查到机器的GPU信息（如图2）。</p>
<div align="center">
<img src="TS1.PNG" width = "360" height = "230" alt="Figure1" />
<p>
图1. 输入dxdiag命令
</div>
<div align="center">
<img src="TS2.PNG" width = "500" height = "450" alt="Figure2" />
<p>
图2. 查看机器GPU信息
</div>
</div>
<div id="tensorflow" class="section level3">
<h3>安装TensorFlow</h3>
<p>鉴于python3更高级（传闻python2最终会被淘汰，所以希望选择能陪伴更久的工具:)），本文中会以python3为基准，屏幕前的读者你！也建议跟我用上python3！另外，如果你刚起步使用python的话，那建议你直接下载 <a href="https://www.anaconda.com/">Anaconda</a>，快捷高效，下载引导详见图3。Anaconda会帮助我们省去下载很多库的时间，把时间留给TensorFlow吧！</p>
<div align="center">
<img src="TS3.PNG" width = "400" height = "300" alt="Figure3" />
<p>
图3. 下载Anaconda
</div>
<div id="anaconda" class="section level4">
<h4>设置水土不服的Anaconda</h4>
<p>首先，在安装Anaconda后，先打开Anaconda Prompt（一般在你的应用目录可以找到），打开后是一个跟CMD一样黑乎乎的界面 ╮(๑•́ ₃•̀๑)╭ 打开后呢~通过<code>conda --version</code>看看是否成功安装了Anaconda。一般会得到版本信息，如下所示</p>
<pre><code>conda 4.5.12</code></pre>
<p>那么，Anaconda安装成功！</p>
<p>下一步我们设置下Anaconda的仓库(Repository)镜像，因为默认连接的是境外镜像地址，会超慢（我记得我当时只有10kb的网速T_T），我们把镜像地址改为境内的清华大学开源软件镜像站，所以通过下面指令就可以提高你的下载速度(´•灬•‘)。</p>
<pre><code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --set show_channel_urls yes</code></pre>
</div>
<div id="piptensorflow-" class="section level4">
<h4>通过pip安装我们的主角TensorFlow ٩(๑&gt; ₃ &lt;)۶з</h4>
<p>接下来就开始用pip安装我们TensorFlow的CPU版本了~ 首先，由于目前TensoFlow官方Only支持python3.5版本，所以我们用下面命令完成我们的需求。</p>
<pre><code>conda create --name python35 python=3.5</code></pre>
<p>安装完成后会提示你</p>
<pre><code># To activate this environment, use
#
#     $ conda activate python35
#
# To deactivate an active environment, use
#
#     $ conda deactivate</code></pre>
<p>所以接着我们先激活python3.5的环境并用pip安装tensorflow</p>
<pre><code>conda activate python35
pip install tensorflow</code></pre>
<p>旋转跳跃~闭着眼~睁开眼后就搞定了你要的TensorFlow (●´▽｀●) 下面我们先测试一下，在激活python3.5之后，输入<code>python</code>运行python，然后输入下面的命令。</p>
<pre class="python"><code>import tensorflow as tf
hello = tf.constant(&#39;Hello, TensorFlow!&#39;)
sess = tf.Session()
print(sess.run(hello))
a = tf.constant(1)
b = tf.constant(2)
c = sess.run(a+b)
print(&quot;1 + 2 = %d&quot; % c)</code></pre>
<p>如果输出了<br />
‘Hello, TensorFlow!’<br />
1 + 2 = 3<br />
那么恭喜你，TensorFlow安装成功！</p>
<p><strong>Attention!</strong></p>
<ul>
<li><p>CPU有个利器(๑•̀_•́๑)<br />
当我使用<code>sess = tf.Session()</code>的时候，对话框告诉我：<br />
2018-12-26 15:03:57.708274: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2<br />
然后一脸懵，杰是个啥？<br />
感恩必应搜索，感恩维基百科！</p>
<blockquote>
<p>高级矢量扩展（AVX）是英特尔在2008年3月提出的英特尔和AMD微处理器的x86指令集体系结构的扩展，英特尔首先通过Sandy Bridge处理器在2011年第一季度推出，随后由AMD推出Bulldozer处理器在2011年第三季度.AVX提供了新功能，新指令和新编码方案。 特别是，AVX引入了融合乘法累加（FMA）操作，加速了线性代数计算，即点积，矩阵乘法，卷积等。几乎所有机器学习训练都涉及大量这些操作，因此将会支持AVX和FMA的CPU（最高达300％）更快。</p>
</blockquote>
<p>而对话框想告诉我，我的CPU支持AVX，让我赶紧用上它！</p>
<pre class="python"><code>import tensorflow as tf
import os
os.environ[&#39;TF_CPP_MIN_LOG_LEVEL&#39;] = &#39;2&#39;
sess = tf.Session()</code></pre>
<p>这样就不会出现警告了~</p></li>
<li><p>目前觉得不重要的part(๑•̀_•́๑)<br />
如果你觉得运行的速度不满足你的需求，那么你可以选择用上GPU版本的TensorFlow，那将帮助你火箭般的速度运行！下面简单带过如何安装TensorFlow的GPU版本~由于具体操作复杂，暂且跳过~</p>
<pre><code>pip install tensorflow-gpu</code></pre></li>
</ul>
</div>
</div>
</div>
<div id="tensorflow" class="section level2">
<h2>迈出TensorFloW世界的第二步</h2>
</div>

    </div>
  </article>

  
<section id="comments">
  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
  
  };
  (function() {
    var inIFrame = function() {
      var iframe = true;
      try { iframe = window.self !== window.top; } catch (e) {}
      return iframe;
    };
    if (inIFrame()) return;
    var d = document, s = d.createElement('script');
    s.src = '//thompsonhu.disqus.com/embed.js'; s.async = true;
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>



</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
  </body>
</html>

